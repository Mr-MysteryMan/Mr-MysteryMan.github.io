<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>面向对象课程Unit3总结 | ENIGMA</title><meta name="author" content="Mr-MysteryMan"><meta name="copyright" content="Mr-MysteryMan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="前言第三单元作业的主题是社交网络的构建和维护，主要学习内容涉及到程序规格的确认以及JML语言的阅读与书写。第一次作业主要实现基本的社交网络，内部单元仅有Person，主要操作针对网络和个人，同时书写对于queryTripleSum()方法的测试；第二次作业增加了Tag标签类，将部分人标为同一群组，对群组进行整体操作，同时书写对于queryCoupleSum()方法的测试；第三次作业增加了Messa">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象课程Unit3总结">
<meta property="og:url" content="http://example.com/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="ENIGMA">
<meta property="og:description" content="前言第三单元作业的主题是社交网络的构建和维护，主要学习内容涉及到程序规格的确认以及JML语言的阅读与书写。第一次作业主要实现基本的社交网络，内部单元仅有Person，主要操作针对网络和个人，同时书写对于queryTripleSum()方法的测试；第二次作业增加了Tag标签类，将部分人标为同一群组，对群组进行整体操作，同时书写对于queryCoupleSum()方法的测试；第三次作业增加了Messa">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/wuhui/8.png">
<meta property="article:published_time" content="2025-03-17T04:00:00.000Z">
<meta property="article:modified_time" content="2025-03-20T03:15:53.883Z">
<meta property="article:author" content="Mr-MysteryMan">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/wuhui/8.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "面向对象课程Unit3总结",
  "url": "http://example.com/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/",
  "image": "http://example.com/img/wuhui/8.png",
  "datePublished": "2025-03-17T04:00:00.000Z",
  "dateModified": "2025-03-20T03:15:53.883Z",
  "author": [
    {
      "@type": "Person",
      "name": "Mr-MysteryMan",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="http://example.com/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '面向对象课程Unit3总结',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/post-background.css"><link rel="stylesheet" href="/css/flipcountdown.css"><link rel="stylesheet" href="/css/nav_adjust.css"><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-color: #efefef;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/avatar.png" onerror="this.onerror=null;this.src='/img/logo.png'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-list"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/img/wuhui/8.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ENIGMA</span></a><a class="nav-page-title" href="/"><span class="site-name">面向对象课程Unit3总结</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-list"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">面向对象课程Unit3总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-17T04:00:00.000Z" title="发表于 2025-03-17 12:00:00">2025-03-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-20T03:15:53.883Z" title="更新于 2025-03-20 11:15:53">2025-03-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">面向对象</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>第三单元作业的主题是社交网络的构建和维护，主要学习内容涉及到程序规格的确认以及<code>JML</code>语言的阅读与书写。第一次作业主要实现基本的社交网络，内部单元仅有<code>Person</code>，主要操作针对网络和个人，同时书写对于<code>queryTripleSum()</code>方法的测试；第二次作业增加了<code>Tag</code>标签类，将部分人标为同一群组，对群组进行整体操作，同时书写对于<code>queryCoupleSum()</code>方法的测试；第三次作业增加了<code>Message</code>信息类，实现人与人、人与群组间信息通讯，同时书写对于<code>deleteColeEmoji()</code>方法的测试。第三单元源代码实现主要涉及<code>JML</code>代码的阅读与实际功能的实现转化，对照着注释，功能的实现难度不大，主要是各自性能高要求导致需要对部分属性进行动态维护，引入多项图数据处理方法。测试代码套路较为统一，按照<code>JML</code>描述即可完成测试，主要是练习参数化测试。本篇总结主要是记录一下三次作业的具体实现、各种优缺点分析，以及自身一点心得体会。</p>
<h2 id="一、作业架构分析"><a href="#一、作业架构分析" class="headerlink" title="一、作业架构分析"></a>一、作业架构分析</h2><h3 id="Homework1"><a href="#Homework1" class="headerlink" title="Homework1"></a>Homework1</h3><h4 id="题目重点重述"><a href="#题目重点重述" class="headerlink" title="题目重点重述"></a>题目重点重述</h4><p>第一次作业主要实现仅含<code>Person</code>元素的无向图网络，以<code>person</code>作为网络节点，<code>acquaintance</code>作为网络连接边，并以<code>value</code>作为边权重。程序要求实现对于网络的一系列功能，可分为对<code>person</code>节点的操作与对<code>acquaintance</code>边的操作。具体有网络增删节点、增加边、调整边权重等修改操作，查询块数量（所有相连节点构成一个块）、查询三角形数量（三个节点两两相连构成一个三角形）、查询两节点是否相连、查询边权重等查询操作。</p>
<h4 id="程序UML图"><a href="#程序UML图" class="headerlink" title="程序UML图"></a>程序UML图</h4><p><img src="/img/loading.gif" data-original="/images/OO/oo第3单元总结/hw3-1UML图.png" alt="hw3-1UML图"></p>
<p>本次作业含有四种异常处理，包括两节点不含关系、网络不含节点、获得同一节点、获得同一关系等异常。在网络操作发生错误访问时要抛出相应异常。<code>Counter</code>作为计数器，记录各异常发生次数。主要功能类是<code>MyPerson</code>、<code>MyNetwork</code>类，并在其中进行各项修改和查询操作。<code>DisjointSet</code>作为并查集类，用于简化块相关操作，提高程序性能。</p>
<h4 id="复杂度"><a href="#复杂度" class="headerlink" title="复杂度"></a>复杂度</h4><p>类复杂度表格如图所示：其中<code>OCavg</code>指代平均操作复杂度，<code>OCmax</code> 指代最大操作复杂度，<code>WMC</code> 指代加权方法复杂度</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Class</th>
<th>OCavg</th>
<th>OCmax</th>
<th>WMC</th>
</tr>
</thead>
<tbody>
<tr>
<td>Counter</td>
<td>1.25</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>DisjointSet</td>
<td><strong>2.57</strong></td>
<td><strong>5</strong></td>
<td><strong>18</strong></td>
</tr>
<tr>
<td>Main</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>MyEqualPersonIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyEqualRelationException</td>
<td>1.5</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>MyNetwork</td>
<td><strong>2.5</strong></td>
<td><strong>6</strong></td>
<td><strong>30</strong></td>
</tr>
<tr>
<td>MyPerson</td>
<td>1.38</td>
<td>2</td>
<td><strong>18</strong></td>
</tr>
<tr>
<td>MyPersonIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyRelationNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<p>可以观察到，相比前两单元的架构复杂度，本单元复杂度有所降低，证明笔者的架构设计还需进一步练习与学习。本次作业中，复杂度最高的是<code>MyNetwork</code>、<code>DisjointSet</code>两个类。在<code>MyNetwork</code>类中，多个函数涉及到多分支判断，复杂度较高。<code>DisjointSet</code>类主要有查找根节点、合并块、整合拆分块等操作，而这些操作涉及遍历操作，因此复杂度较高。</p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>本次作业要求对<code>MyNetwork</code>中的<code>queryTripleSum()</code>函数进行测试，测试库使用<code>JUnit4</code>。主要测试了函数结果计算是否正确，及函数查询前后原属性是否改变。测试数据主要为仅有节点的网络和随机构建联系的网络。结果是否正确测试策略是调用函数获得测试结果，按照<code>JML</code>构建正确的计算函数并获得正确结果，进行比对。该方法作为一个纯查询型的方法，不应改变网络的任何属性。属性是否改变测试策略是构建两个网络，一个始终不变，作为对照组；一个调用<code>queryTripleSum()</code>方法，作为变量组。比对调用方法前后的两个网络，当两个网络属性相同时，证明函数调用没有改变网络属性。</p>
<h3 id="Homework2"><a href="#Homework2" class="headerlink" title="Homework2"></a>Homework2</h3><h4 id="题目重点重述-1"><a href="#题目重点重述-1" class="headerlink" title="题目重点重述"></a>题目重点重述</h4><p>本次作业在第一次作业的基础上，增加了<code>Tag</code>标签类（同一标签可记为一个群组，在后续操作中也是对群组整体操作）。每个群组可以加入多个<code>Person</code>，群组具有群组的各项操作。具体包含增删<code>person</code>的基础群组维护操作，查询群组内<code>value</code>数值、查询群组内<code>person</code>的年龄方差特征等。对于<code>Network</code>，新增了查询某人最佳关系、查询网络中的<code>couple</code>数量、查询两个人之间的最短路径（即最短通过几人可以和对方取得联系）长度等操作。作业的主要难度在于群组<code>value</code>数值、最佳关系等对于性能要求较高，需要动态维护；最短路径需要借助经典算法减少查询时间。</p>
<h4 id="程序UML图-1"><a href="#程序UML图-1" class="headerlink" title="程序UML图"></a>程序UML图</h4><p><img src="/img/loading.gif" data-original="/images/OO/oo第3单元总结/hw3-2UML图.png" alt="hw3-2UML图"></p>
<p>本次作业新增四种异常，无法找到路径、人物与任何人均无联系、人物不含群组、人物含有相同编号群组。同样使用<code>Counter</code>作为计数器，记录各异常发生次数。新增主要功能类<code>MyTag</code>，在其中进行群组的相关查询增删操作。对于网络，新增<code>MyNetworkFeature</code>类，作为查询网络特征类，包含网络的多项查询功能，降低网络类复杂度。</p>
<h4 id="复杂度-1"><a href="#复杂度-1" class="headerlink" title="复杂度"></a>复杂度</h4><p>类复杂度表格如图所示：其中<code>OCavg</code>指代平均操作复杂度，<code>OCmax</code> 指代最大操作复杂度，<code>WMC</code> 指代加权方法复杂度</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Class</th>
<th>OCavg</th>
<th>OCmax</th>
<th>WMC</th>
</tr>
</thead>
<tbody>
<tr>
<td>Counter</td>
<td>1.25</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>DisjointSet</td>
<td><strong>2.57</strong></td>
<td><strong>5</strong></td>
<td>18</td>
</tr>
<tr>
<td>Main</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>MyAcquaintanceNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyEqualPersonIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyEqualRelationException</td>
<td>1.5</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>MyEqualTagIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyNetwork</td>
<td><strong>3.05</strong></td>
<td><strong>8</strong></td>
<td><strong>64</strong></td>
</tr>
<tr>
<td>MyNetworkFeature</td>
<td>2.12</td>
<td><strong>5</strong></td>
<td>17</td>
</tr>
<tr>
<td>MyPathNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyPerson</td>
<td>1.71</td>
<td>4</td>
<td><strong>41</strong></td>
</tr>
<tr>
<td>MyPersonIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyRelationNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>MyTag</td>
<td>2.18</td>
<td>4</td>
<td>24</td>
</tr>
<tr>
<td>MyTagIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<p>可以观察到，相较于上一次作业，尽管增加了<code>MyNetworkFeature</code>类降低复杂度，本次作业<code>MyNetwork</code>复杂度仍然有所上升。这是因为增加了部分函数含有多分支选择，增加了复杂度。其余类复杂度较为正常。</p>
<h4 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h4><p>本次作业要求对<code>MyNetwork</code>中的<code>queryCoupleSum()</code>函数进行测试，测试库使用<code>JUnit4</code>。主要测试了函数结果计算是否正确，及函数查询前后原属性是否改变。测试数据主要为仅有节点的网络和随机构建联系的网络。结果是否正确测试策略是调用函数获得测试结果，按照<code>JML</code>构建正确的计算函数并获得正确结果，进行比对。该方法作为一个纯查询型的方法，不应改变网络的任何属性。属性是否改变测试策略是构建两个网络，一个始终不变，作为对照组；一个调用<code>queryCoupleSum()</code>方法，作为变量组。比对调用方法前后的两个网络，当两个网络属性相同时，证明函数调用没有改变网络属性。相较于第一次作业，本次作业测试在思路架构上无较大变化。</p>
<h3 id="Homework3"><a href="#Homework3" class="headerlink" title="Homework3"></a>Homework3</h3><h4 id="题目重点重述-2"><a href="#题目重点重述-2" class="headerlink" title="题目重点重述"></a>题目重点重述</h4><p>第三次作业在第二次作业的基础上，增加了<code>Message</code>类及关于信息的操作。<code>Message</code>类有三个子类，分别为表情信息<code>EmojiMessage</code>、通知信息<code>NoticeMessage</code>、红包信息<code>RedEnvelopeMessage</code>。对于每类信息，又有两种信息类型，单人信息（即单对单，单人向单人发送信息）和群组信息（即单对多，单人向群组发送信息）。所有信息存入网络属性<code>messages</code>中，网络新增方法加入删除信息，发送信息，清除热度较低的表情，清除某人所收到的全部通知信息。</p>
<h4 id="程序UML图-2"><a href="#程序UML图-2" class="headerlink" title="程序UML图"></a>程序UML图</h4><p><img src="/img/loading.gif" data-original="/images/OO/oo第3单元总结/hw3-3UML图.png" alt="hw3-3UML图"></p>
<p>本次作业新增四种异常，未存储当前表情、存储表情序号相等、存储信息序号相等、无法获得待查询信息。同样使用<code>Counter</code>作为计数器，记录各异常发生次数。新增功能类主要是<code>Message</code>类，含有<code>id</code>、<code>socialValue</code>、<code>type</code>等通用属性，三类信息存储有不同的特殊信息特殊属性：<code>EmojiMessage</code>含有表情序号<code>emojiId</code>（相同的<code>emojiId</code>代表同一类表情），<code>NoticeMessage</code>含有通知内容<code>string</code>，<code>RedEnvelopeMessage</code>含有红包价值<code>money</code>。而对于每类信息的不同对单对群类型，又有不同操作：对于<code>EmojiMessage</code>和<code>NoticeMessage</code>，对单仅<code>person2</code>接收信息，对群则<code>tag</code>内全部成员都接收信息（<code>EmojiMessage</code>需另外对当前<code>emojiId</code>类表情的热度加一）；对于<code>RedEnvelopeMessage</code>，对单<code>person1</code>减少红包等值的<code>money</code>，<code>person2</code>增加红包等值的<code>money</code>，对群<code>tag</code>内全部成员增加<code>messageMoney / tagSize</code>等值的<code>money</code>，<code>person1</code>减少<code>tagSize * (messageMoney / tagSize)</code>等值的<code>money</code>（这里由于<code>messageMoney</code>和<code>tagSize</code>均是<code>int</code>类型，因此<code>person1</code>减少的<code>money</code>可能不等于红包的<code>money</code>，这也是本次作业设计中比较奇怪的一点）。对于网络，仅增加了<code>messages</code>属性与整体网络内<code>message</code>的操作方法。同时为降低<code>MyNetwork</code>的复杂度和缩减长度，新增<code>MyNetworkBehavior</code>类，内含不发生异常时网络的各项操作。</p>
<h4 id="复杂度-2"><a href="#复杂度-2" class="headerlink" title="复杂度"></a>复杂度</h4><p>类复杂度表格如图所示：其中<code>OCavg</code>指代平均操作复杂度，<code>OCmax</code> 指代最大操作复杂度，<code>WMC</code> 指代加权方法复杂度</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Class</th>
<th>OCavg</th>
<th>OCmax</th>
<th>WMC</th>
</tr>
</thead>
<tbody>
<tr>
<td>DisjointSet</td>
<td><strong>2.57</strong></td>
<td><strong>5</strong></td>
<td>18</td>
</tr>
<tr>
<td>Main</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>MyEmojiMessage</td>
<td>1</td>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>MyMessage</td>
<td>1.11</td>
<td>2</td>
<td>10</td>
</tr>
<tr>
<td>MyNetwork</td>
<td><strong>2.42</strong></td>
<td><strong>8</strong></td>
<td><strong>87</strong></td>
</tr>
<tr>
<td>MyNetworkBehavior</td>
<td>1.93</td>
<td><strong>5</strong></td>
<td>27</td>
</tr>
<tr>
<td>MyNetworkFeature</td>
<td>2.33</td>
<td><strong>5</strong></td>
<td>21</td>
</tr>
<tr>
<td>MyNoticeMessage</td>
<td>1</td>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>MyPerson</td>
<td>1.62</td>
<td>4</td>
<td><strong>52</strong></td>
</tr>
<tr>
<td>MyRedEnvelopeMessage</td>
<td>1</td>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>MyTag</td>
<td>2.15</td>
<td>4</td>
<td>28</td>
</tr>
<tr>
<td>myexceptions.Counter</td>
<td>1.25</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>myexceptions.MyAcquaintanceNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyEmojiIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyEqualEmojiIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyEqualMessageIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyEqualPersonIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyEqualRelationException</td>
<td>1.5</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>myexceptions.MyEqualTagIdException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyMessageIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyPathNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyPersonIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyRelationNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>myexceptions.MyTagIdNotFoundException</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<p>可以观察到，将<code>behavior</code>从网络中提取出来后，<code>MyNetwork</code>类复杂度有所降低，但仍因为存在多组多分支查询，因此复杂度仍较高。其余类复杂度正常。</p>
<h4 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h4><p>对于本次作业，笔者个人认为主要难度在测试环节。本次作业要求对<code>MyNetwork</code>中的<code>deleteColdEmoji()</code>函数进行测试，测试库使用<code>JUnit4</code>。主要测试了函数结果计算是否正确，及函数查询前后原属性是否改变。表情信息主要有三种存储形式，分别是在<code>emojiIds</code>中存储表情种类，每个<code>emojiId</code>代表一类表情；在<code>emojiHeats</code>中存储每个<code>emojiId</code>对应的表情使用热度；在<code>message</code>中存储信息，<code>message</code>中属性 <code>id</code>代表信息的序号，<code>emojiId</code>代表这条表情信息对应的表情类型。<code>deleteColdEmoji()</code>的主要实现逻辑是查询每种表情的热度，小于<code>limit</code>的表情进行删除（这种删除包括三种存储形式，即删除<code>emojiIds</code>和<code>emojiHeats</code>中<code>emojiId</code>对应的元素，删除<code>messages</code>中所有对应<code>emojiId</code>的<code>EmojiMessage</code>），并返回删除后<code>messages</code>的长度。</p>
<p>测试逻辑仍然是构建两个网络，一个始终不变，作为对照组；一个调用<code>deleteColdEmoji()</code>方法，作为变量组。比对调用方法前后的两个网络，观察函数的返回结果是否正确，以及各项应该改变或不该改变的属性是否发生变化。主要步骤可以分为两步：</p>
<ul>
<li><p>网络初始化：网络初始化需要为网络添加人物，添加群组，为人物添加关系，对网络添加信息，按照发送频率发送信息。为了保证测试的全面性，应保证在发送之后，所有<code>emojiId</code>均有一定热度，发送之后网络内存储的待发送信息<code>messages</code>应包含全部6类信息。（请注意，下列代码中省略了应对调用各网络函数后可能产生的异常的处理方法，请自行补充完善）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">netInitial</span><span class="params">(MyNetwork oldNet, MyNetwork newNet)</span></span><br><span class="line">   {</span><br><span class="line">   	<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="type">long</span> <span class="variable">seed</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">       <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>(seed);</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加人*/</span></span><br><span class="line">       ...</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加群组*/</span></span><br><span class="line">       ...</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加emojiId*/</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; emojiIdSize; i++)</span><br><span class="line">       {</span><br><span class="line">           oldNet.storeEmojiId(i);</span><br><span class="line">           newNet.storeEmojiId(i);</span><br><span class="line">       }</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加emoji信息*/</span></span><br><span class="line">       <span class="keyword">for</span> (; index &lt; emojiSize; index++)</span><br><span class="line">       {</span><br><span class="line">           Message message1;</span><br><span class="line">           Message message2;</span><br><span class="line">           <span class="type">int</span> <span class="variable">emojiId</span> <span class="operator">=</span> random.nextInt(emojiIdSize);</span><br><span class="line">           <span class="type">int</span> <span class="variable">id1</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="type">int</span> <span class="variable">id2</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="keyword">switch</span> (index % <span class="number">2</span>)</span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyEmojiMessage</span>(index, emojiId,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id2));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyEmojiMessage</span>(index, emojiId,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id2));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               <span class="keyword">default</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyEmojiMessage</span>(index, emojiId,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyEmojiMessage</span>(index, emojiId,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">           }</span><br><span class="line">           oldNet.addMessage(message1);</span><br><span class="line">           newNet.addMessage(message2);</span><br><span class="line">       }</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加notice信息*/</span></span><br><span class="line">       <span class="keyword">for</span> (; index &lt; noticeSize + emojiSize; index++)</span><br><span class="line">       {</span><br><span class="line">           Message message1;</span><br><span class="line">           Message message2;</span><br><span class="line">           <span class="type">int</span> <span class="variable">id1</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="type">int</span> <span class="variable">id2</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="keyword">switch</span> (index % <span class="number">2</span>)</span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyNoticeMessage</span>(index, <span class="string">"hello"</span>,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id2));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyNoticeMessage</span>(index, <span class="string">"hello"</span>,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id2));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               <span class="keyword">default</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyNoticeMessage</span>(index, <span class="string">"hello"</span>,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyNoticeMessage</span>(index, <span class="string">"hello"</span>,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">           }</span><br><span class="line">           oldNet.addMessage(message1);</span><br><span class="line">           newNet.addMessage(message2);</span><br><span class="line">       }</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>添加redElevator信息*/</span></span><br><span class="line">       <span class="keyword">for</span> (; index &lt; redElevatorSize + noticeSize + emojiSize; index++)</span><br><span class="line">       {</span><br><span class="line">           Message message1;</span><br><span class="line">           Message message2;</span><br><span class="line">           <span class="type">int</span> <span class="variable">wholeMoney</span> <span class="operator">=</span> random.nextInt(<span class="number">100</span>);</span><br><span class="line">           <span class="type">int</span> <span class="variable">id1</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="type">int</span> <span class="variable">id2</span> <span class="operator">=</span> random.nextInt(peopleSize);</span><br><span class="line">           <span class="keyword">switch</span> (index % <span class="number">2</span>)</span><br><span class="line">           {</span><br><span class="line">               <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyRedEnvelopeMessage</span>(index, wholeMoney,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id2));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyRedEnvelopeMessage</span>(index, wholeMoney,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id2));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               <span class="keyword">default</span>:</span><br><span class="line">                   message1 = <span class="keyword">new</span> <span class="title class_">MyRedEnvelopeMessage</span>(index, wholeMoney,</span><br><span class="line">                           oldNet.getPerson(id1), oldNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   message2 = <span class="keyword">new</span> <span class="title class_">MyRedEnvelopeMessage</span>(index, wholeMoney,</span><br><span class="line">                           newNet.getPerson(id1), newNet.getPerson(id1).getTag(id1));</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">           }</span><br><span class="line">           oldNet.addMessage(message1);</span><br><span class="line">           newNet.addMessage(message2);</span><br><span class="line">       }</span><br><span class="line">  </span><br><span class="line">       <span class="comment">/*<span class="doctag">TODO:</span>将信息进行发送*/</span></span><br><span class="line">       <span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; emojiSize + noticeSize + redElevatorSize; index++)</span><br><span class="line">       {</span><br><span class="line">           <span class="keyword">if</span> (index % sendFrequency == <span class="number">0</span>)</span><br><span class="line">           {</span><br><span class="line">               oldNet.sendMessage(index);</span><br><span class="line">               newNet.sendMessage(index);</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></table></figure>
</li>
<li><p>变量组对照组比对：属性比对主要针对<code>emojiIds</code>、<code>emojiHeats</code>、<code>messages</code>三个数组中的元素。对于<code>emojiIds</code>，应确保原数组中对应热度大于等于<code>limit</code>的序号新数组均含有，原数组中对应热度小于<code>limit</code>的序号新数组均不含有，新数组中不含有相同元素；对于<code>emojiHeats</code>，应确保原数组中对应热度大于等于<code>limit</code>的热度新数组均含有，原数组中对应热度小于<code>limit</code>的热度新数组均不含有，新数组中不含有相同元素；对于<code>messages</code>，应确保原数组的<code>NoticeMessage</code>、<code>RedEnvelopeMessage</code>不发生变化，原数组中的<code>EmojiMessage</code>应确保对应热度大于等于<code>limit</code>的热度新数组均含有，对应热度小于<code>limit</code>的热度新数组均不含有，新数组中不含有相同元素。</p>
</li>
</ul>
<h2 id="二、架构重点实现分析"><a href="#二、架构重点实现分析" class="headerlink" title="二、架构重点实现分析"></a>二、架构重点实现分析</h2><h3 id="Homework1-1"><a href="#Homework1-1" class="headerlink" title="Homework1"></a>Homework1</h3><p>第一次作业程序中主要有三个实现的重点：</p>
<ul>
<li><p><strong>并查集<code>DisjointSet</code>构建与使用：</strong>在本次作业中，<code>queryBlockSum()</code>与<code>isCircle()</code>方法作为核心方法，对性能要求较高，因此引入并查集<code>DisjointSet</code>类提高性能。并查集的核心在于时刻保证位于同一个块（即互相相连的节点）的根节点相同。</p>
<ul>
<li><code>find()</code>方法：查询节点的根节点；</li>
<li><code>merge()</code>方法：合并两个块，将一个根节点的的父节点设置为另一个根节点；</li>
<li><code>modify()</code>方法：调整一个块各点的根节点，在删除边时使用。对节点1进行深度遍历，记录全部可以到达的节点，并将所有可到达的节点的根节点变动为节点1。若节点2可以到达，则不需要继续进行任何操作；若节点2不可以到达，则对节点2进行深度遍历，并将所有可到达的节点的根节点变动为节点2。</li>
</ul>
</li>
<li><p><strong>计数器<code>Counter</code>构建与使用：</strong>在本次作业中，需要对各项异常发生次数进行统计，因此加入计数器<code>Counter</code>类。每个异常中设置一个静态属性计数器<code>counter</code>记录该类异常的发生次数。</p>
</li>
<li><strong>三角形数量<code>triNum</code>的动态维护：</strong>在本次作业中，<code>queryTripleSum()</code>方法同作为核心方法，对性能要求也较高，因此对<code>Network</code>设立属性<code>triNum</code>记录三角形的数量。在加入联系时，查询联系两个端节点共同相连的节点数量，即是增加的三角形数量。删除练习时相同，减少两个端节点共同相连的节点数量即可。</li>
</ul>
<h3 id="Homework2-1"><a href="#Homework2-1" class="headerlink" title="Homework2"></a>Homework2</h3><p>第二次作业程序中主要有三个实现重点：</p>
<ul>
<li><strong>群组<code>value</code>维护：</strong>在本次作业中，<code>queryValueSum()</code>方法作为核心方法，对性能要求较高，因此对<code>Tag</code>设立属性<code>valueSum</code>记录特定群组的数值总和。维护情况主要分为对群组中增删人员和增删关系时对群组产生影响。当增删人员时，遍历群组内属性<code>persons</code>，增加或删减群组人员与待增删人员之间的关系价值。当增删人员间关系时，遍历网络中全部人员的全部群组，对含有增删关系的两位成员的群组改变群组的<code>valueSum</code>。</li>
<li><strong>人员最佳关系维护：</strong>在本次作业中，<code>queryBestAcquaintance()</code>方法作为核心方法，对性能要求较高，因此对<code>Person</code>设立属性<code>bestId</code>记录与人员关系数值<code>value</code>最高的成员编号。维护情况主要是在增加和调整整合关系时对人员产生影响。当增加关系时，将增加的关系的<code>id</code>、<code>value</code>与当前最佳关系的<code>id</code>、<code>value</code>进行比较，判断是否需要变化最佳关系。当调整关系数值时，分为两种情况：如果变化的关系是当前最佳关系且数值增加，或变化的关系不是当前最佳关系且数值减少，则不需要调整；如果变化的关系不是当前最佳关系且数值增加，或变化的关系是当前最佳关系且数值减少，则需要遍历所有现在的关系并找到最佳关系。当删除关系时，也分为两种情况：如果删除的不是最佳关系，则不需要调整；如果删除的是最佳关系，则需要遍历所有现在的关系并找到最佳关系。</li>
<li><strong>寻找最短路径：</strong>在本次作业中，<code>queryShortest()</code>方法作为核心方法，对性能要求较高，但由于路径增删相关操作影响过多，不便动态维护，因此需要采用高效的寻路算法。笔者使用的是普通的广度优先遍历，首次遍历经过<code>person2</code>后，清空队列，并返回相应长度。测试证明普通的广度优先算法完全够用。</li>
</ul>
<h3 id="Homework3-1"><a href="#Homework3-1" class="headerlink" title="Homework3"></a>Homework3</h3><p>第三次作业程序中主要有两个实现重点：</p>
<ul>
<li><p><strong>同一类不同构造函数：</strong>本次作业中，对于三种信息<code>EmojiMessage</code>、<code>NoticeMessage</code>、<code>RedEnvelopeMessage</code>，每种信息均有两种类型对单对群，因此这三个类每个类应该有两种构造方法。而在一个类中使用多种构造方法过程较为简单，直接书写即可，最终产生新对象时会根据传入数据类型自动识别使用哪种构造方法。</p>
</li>
<li><p><strong>迭代器的使用：</strong>本次作业中涉及多个需要对集合进行遍历删除的操作，而在这个过程中，集合不应该发生改变，否则会抛出<code>ConcurrentModificationException</code>的异常。因此应该构造迭代器，使用迭代器对集合进行遍历删除操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;Object&gt; iterator = objects.iterator();</span><br><span class="line">      <span class="keyword">while</span> (iterator.hasNext())</span><br><span class="line">      {</span><br><span class="line">          <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">          <span class="keyword">if</span> (condition)</span><br><span class="line">          {</span><br><span class="line">              iterator.remove();</span><br><span class="line">          }</span><br><span class="line">      }</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="三、Bug分析及程序优化"><a href="#三、Bug分析及程序优化" class="headerlink" title="三、Bug分析及程序优化"></a>三、Bug分析及程序优化</h2><h3 id="Homework1-2"><a href="#Homework1-2" class="headerlink" title="Homework1"></a>Homework1</h3><h4 id="Bug分析"><a href="#Bug分析" class="headerlink" title="Bug分析"></a>Bug分析</h4><p>第一次作业出现的问题主要是性能问题。在最初的设计中，并未使用并查集，因此程序性能极差。在增添<code>DisjointSet</code>类并将<code>MyNetwork</code>类中相关方法优化后，就可以大幅提高程序性能。</p>
<h4 id="优化策略"><a href="#优化策略" class="headerlink" title="优化策略"></a>优化策略</h4><p>设计最初时，缺省了一定的程序鲁棒性以及对于性能的追求。现对作业过程中所做优化进行记录：</p>
<ul>
<li><strong>并查集优化函数：</strong>程序中最吃性能的部分是<code>isCircle()</code>、<code>queryBlockSum()</code>两个方法。对于<code>isCircle()</code>方法，直接调用并查集<code>find()</code>查询两个节点的根节点，如果相同，证明来自同一个块，两节点相连。对于<code>queryBlockSum()</code>方法，在<code>DisjointSet</code>类中维护块组属性，在调用<code>queryBlockSum()</code>方法时直接返回块组大小即可。</li>
</ul>
<h3 id="Homework2-2"><a href="#Homework2-2" class="headerlink" title="Homework2"></a>Homework2</h3><h4 id="Bug分析-1"><a href="#Bug分析-1" class="headerlink" title="Bug分析"></a>Bug分析</h4><p>第二次作业暂无bug</p>
<h4 id="优化策略-1"><a href="#优化策略-1" class="headerlink" title="优化策略"></a>优化策略</h4><p>在完成作业并通过强测后听到想到了一些有趣的优化方式，现记录如下：</p>
<ul>
<li><strong>使用小顶堆维护最佳关系：</strong>本次作业的人员最佳关系维护时，可以使用小顶堆的数据结构存储各关系数值。当需要获得最佳关系时，只需返回根节点即可。但增删关系时都需要重新调整构建小顶堆，这部分较占时间。</li>
<li><strong>使用双向广度优先遍历寻找最短路径：</strong>已知路径的起点和终点，可以分别从起点和终点双向执行广度优先遍历，直到遍历的部分有交集。这种方法一定程度上可以减少从一边开始搜索的时候，随着层数的增加，搜索空间变大的情况。但由于程序中节点较少，构成的子图估摸较小，因此双向广度优先遍历在性能上并没有体现出较大水平的提高。</li>
</ul>
<h3 id="Homework3-2"><a href="#Homework3-2" class="headerlink" title="Homework3"></a>Homework3</h3><h4 id="Bug分析-2"><a href="#Bug分析-2" class="headerlink" title="Bug分析"></a>Bug分析</h4><p>第三次作业出现了在调用<code>sendMessage()</code>函数抛出<code>MyTagIdNotFoundException</code>时使用了<code>messageId</code>的bug，本单元作业<code>id</code>种类较多，在调用函数过程需要多加注意。</p>
<h4 id="优化策略-2"><a href="#优化策略-2" class="headerlink" title="优化策略"></a>优化策略</h4><p>第三次作业暂无优化策略</p>
<h2 id="四、心得体会"><a href="#四、心得体会" class="headerlink" title="四、心得体会"></a>四、心得体会</h2><p>本单元不需要发泄。（<del>嘴脸!</del>）</p>
<p>那么心得体会部分就主要谈谈这单元完成之后的一些收获和经验吧：</p>
<ul>
<li><strong>架构设计的重要性。</strong>好的，重要的事情说三遍。相较于前两个单元，本单元难度大幅降低，主要原因是去除了架构设计部分。同学们的身份从设计师转变为程序员，只需要按照给定的规格补全代码即可。但我不设计不妨碍我不学习。本单元的整体架构设计较为科学，从中也能看到高内聚低耦合的思想。美中不足的是<code>Network</code>中设计的方法过多，大大增加了该类的长度。</li>
<li><strong>规格的重要性。</strong> 本单元作业中槽点最多的就是<code>JML</code>规格。诚然，这种规格双刃性极大，从好的方面讲，它可以更加精确地让程序员实现功能，详细描述了方法各项限制与前置后置条件；从坏的方面说，它的可读性较差，不能直观的反映要实现的功能。因此，真实设计时可能还是要使用<code>JML</code>+自然语言的形式。</li>
<li><strong>测试的重要性。</strong> 应该说，本单元最重要的一点就是测试，对于工业软件测试的基本概念方法有了一定了解。<ul>
<li>数据构造：本单元三次作业<code>JUnit</code>的测试重点是参数化的随机数据构造。在构建测试前，应该详细考虑可能出现的全部问题，并保证设计出的数据可以涵盖这些方面。</li>
<li>黑箱测试白箱测试：黑箱即不知道真实代码的情况下直接构造数据进行测试，白箱即在知道真实代码的情况下针对代码进行攻击。两种在真实测试中均会使用到，一个是数据导向型的，一个是逻辑导向型的。</li>
<li>单元测试集成测试：单元测试即对每一个方法进行单独测试，集成测试即对程序整体进行各项功能测试。本单元使用<code>JUnit</code>进行的测试即是单元测试，而正常状况下对于程序整体运行测试即是集成测试。</li>
<li>功能测试压力测试回归测试：功能测试即是对程序的各项功能进行全面测试，压力测试即是使用各种临界数据测试程序的鲁棒性，回归测试即是修改代码后要再次进行全面测试。</li>
</ul>
</li>
</ul>
<p>至于对课程的建议，说实话挺想吐槽一下作业描述的朝令夕改的。但是仔细想一想，想要使用<code>JML</code>规格语言这种令人血压飙升的玩意正确全面地描述函数的功能与各项限制确实是一项极其困难的事，读的人都觉得困难，写的人就更觉得困难了，瞬间就能理解学长学姐们的难处了。架构设计方面，还是想说一句，<code>Network</code>里面的方法太多了，很容易就超过<code>checkstyle</code>的行数限制了。</p>
<p>最后，还是要感谢助教lmh学姐的帮助。也希望在之后的学习中能再接再厉，继续进步。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Mr-MysteryMan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/">http://example.com/2025/03/17/OO/2024春-OO课程Unit3总结/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">ENIGMA</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a></div><div class="post-share"><div class="social-share" data-image="/img/wuhui/8.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit2%E6%80%BB%E7%BB%93/" title="面向对象课程Unit2总结"><img class="cover" src="/img/loading.gif" data-original="/img/wuhui/18.jpg" onerror="onerror=null;src='/img/footer.jpeg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">面向对象课程Unit2总结</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit4%E6%80%BB%E7%BB%93/" title="面向对象课程Unit4总结"><img class="cover" src="/img/loading.gif" data-original="/img/wuhui/3.png" onerror="onerror=null;src='/img/footer.jpeg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">面向对象课程Unit4总结</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/03/17/Compiler/%E7%BC%96%E8%AF%91%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/" title="编译器设计文档"><img class="cover" src="/img/loading.gif" data-original="/img/wuhui/2.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-17</div><div class="info-item-2">编译器设计文档</div></div><div class="info-2"><div class="info-item-1">参考编译器介绍本次实验预备阶段主要学习参考了经典的Pascal编译器，现进行一定的介绍。 总体结构课程组提供的Pascal编译器总体结构为词法分析、语法分析、错误处理、语义分析、代码生成和代码优化六个部分。 接口设计该编译器并未进行模块化设计，而是将各函数放在一个文件下，在调用时设定形参实参进行数据的交互。主要函数如下：  nextch 读取下一个字符 test 检查符号合法性 error 打印错误信息 typ处理类型 typedeclaration处理自定义类型   constant处理常量 adjustscale处理实数   variabledeclaration处理普通变量 procdeclaration处理过程和函数 parameterlist...</div></div></div></a><a class="pagination-related" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit1%E6%80%BB%E7%BB%93/" title="面向对象课程Unit1总结"><img class="cover" src="/img/loading.gif" data-original="/img/wuhui/19.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-17</div><div class="info-item-2">面向对象课程Unit1总结</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a><a class="pagination-related" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit2%E6%80%BB%E7%BB%93/" title="面向对象课程Unit2总结"><img class="cover" src="/img/loading.gif" data-original="/img/wuhui/18.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-17</div><div class="info-item-2">面向对象课程Unit2总结</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/avatar.png" onerror="this.onerror=null;this.src='/img/logo.png'" alt="avatar"/></div><div class="author-info-name">Mr-MysteryMan</div><div class="author-info-description">广告位招租</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Mr-MysteryMan"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Mr-MysteryMan" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="mailto:1234567@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BD%9C%E4%B8%9A%E6%9E%B6%E6%9E%84%E5%88%86%E6%9E%90"><span class="toc-number">2.</span> <span class="toc-text">一、作业架构分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework1"><span class="toc-number">2.1.</span> <span class="toc-text">Homework1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E9%87%8D%E7%82%B9%E9%87%8D%E8%BF%B0"><span class="toc-number">2.1.1.</span> <span class="toc-text">题目重点重述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8FUML%E5%9B%BE"><span class="toc-number">2.1.2.</span> <span class="toc-text">程序UML图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-number">2.1.3.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">2.1.4.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework2"><span class="toc-number">2.2.</span> <span class="toc-text">Homework2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E9%87%8D%E7%82%B9%E9%87%8D%E8%BF%B0-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">题目重点重述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8FUML%E5%9B%BE-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">程序UML图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-1"><span class="toc-number">2.2.4.</span> <span class="toc-text">测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework3"><span class="toc-number">2.3.</span> <span class="toc-text">Homework3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E9%87%8D%E7%82%B9%E9%87%8D%E8%BF%B0-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">题目重点重述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8FUML%E5%9B%BE-2"><span class="toc-number">2.3.2.</span> <span class="toc-text">程序UML图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-2"><span class="toc-number">2.3.3.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-2"><span class="toc-number">2.3.4.</span> <span class="toc-text">测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9E%B6%E6%9E%84%E9%87%8D%E7%82%B9%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">二、架构重点实现分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework1-1"><span class="toc-number">3.1.</span> <span class="toc-text">Homework1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework2-1"><span class="toc-number">3.2.</span> <span class="toc-text">Homework2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework3-1"><span class="toc-number">3.3.</span> <span class="toc-text">Homework3</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Bug%E5%88%86%E6%9E%90%E5%8F%8A%E7%A8%8B%E5%BA%8F%E4%BC%98%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">三、Bug分析及程序优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework1-2"><span class="toc-number">4.1.</span> <span class="toc-text">Homework1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Bug%E5%88%86%E6%9E%90"><span class="toc-number">4.1.1.</span> <span class="toc-text">Bug分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-number">4.1.2.</span> <span class="toc-text">优化策略</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework2-2"><span class="toc-number">4.2.</span> <span class="toc-text">Homework2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Bug%E5%88%86%E6%9E%90-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">Bug分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">优化策略</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Homework3-2"><span class="toc-number">4.3.</span> <span class="toc-text">Homework3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Bug%E5%88%86%E6%9E%90-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">Bug分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5-2"><span class="toc-number">4.3.2.</span> <span class="toc-text">优化策略</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">四、心得体会</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/03/17/Compiler/%E7%BC%96%E8%AF%91%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/" title="编译器设计文档"><img src="/img/loading.gif" data-original="/img/wuhui/2.png" onerror="this.onerror=null;this.src='/img/footer.jpeg'" alt="编译器设计文档"/></a><div class="content"><a class="title" href="/2025/03/17/Compiler/%E7%BC%96%E8%AF%91%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/" title="编译器设计文档">编译器设计文档</a><time datetime="2025-03-17T14:00:00.000Z" title="发表于 2025-03-17 22:00:00">2025-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/17/DB/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="数据库知识点整理"><img src="/img/loading.gif" data-original="/img/wuhui/1.png" onerror="this.onerror=null;this.src='/img/footer.jpeg'" alt="数据库知识点整理"/></a><div class="content"><a class="title" href="/2025/03/17/DB/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="数据库知识点整理">数据库知识点整理</a><time datetime="2025-03-17T14:00:00.000Z" title="发表于 2025-03-17 22:00:00">2025-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8B%E6%80%BB%E7%BB%93/" title="面向对象课程总结"><img src="/img/loading.gif" data-original="/img/wuhui/13.jpeg" onerror="this.onerror=null;this.src='/img/footer.jpeg'" alt="面向对象课程总结"/></a><div class="content"><a class="title" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8B%E6%80%BB%E7%BB%93/" title="面向对象课程总结">面向对象课程总结</a><time datetime="2025-03-17T08:00:00.000Z" title="发表于 2025-03-17 16:00:00">2025-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit4%E6%80%BB%E7%BB%93/" title="面向对象课程Unit4总结"><img src="/img/loading.gif" data-original="/img/wuhui/3.png" onerror="this.onerror=null;this.src='/img/footer.jpeg'" alt="面向对象课程Unit4总结"/></a><div class="content"><a class="title" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit4%E6%80%BB%E7%BB%93/" title="面向对象课程Unit4总结">面向对象课程Unit4总结</a><time datetime="2025-03-17T06:00:00.000Z" title="发表于 2025-03-17 14:00:00">2025-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/" title="面向对象课程Unit3总结"><img src="/img/loading.gif" data-original="/img/wuhui/8.png" onerror="this.onerror=null;this.src='/img/footer.jpeg'" alt="面向对象课程Unit3总结"/></a><div class="content"><a class="title" href="/2025/03/17/OO/2024%E6%98%A5-OO%E8%AF%BE%E7%A8%8BUnit3%E6%80%BB%E7%BB%93/" title="面向对象课程Unit3总结">面向对象课程Unit3总结</a><time datetime="2025-03-17T04:00:00.000Z" title="发表于 2025-03-17 12:00:00">2025-03-17</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/footer2.jpeg);"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By Mr-MysteryMan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text"><span id="runtime"></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="/js/flipcountdown.js"></script><script data-pjax src="/js/runtime.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>